!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@fiverr/i18n/singleton"),require("axios"),require("classnames"),require("lodash"),require("prop-types"),require("react"),require("react-dom"),require("react-redux"),require("redux"),require("ua-parser-js"));else if("function"==typeof define&&define.amd)define(["@fiverr/i18n/singleton","axios","classnames","lodash","prop-types","react","react-dom","react-redux","redux","ua-parser-js"],t);else{var n="object"==typeof exports?t(require("@fiverr/i18n/singleton"),require("axios"),require("classnames"),require("lodash"),require("prop-types"),require("react"),require("react-dom"),require("react-redux"),require("redux"),require("ua-parser-js")):t(e.i18n,e.axios,e.classNames,e._,e.PropTypes,e.React16,e.ReactDOM16,e.ReactRedux,e.Redux,e.uaParser);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(e,t,n,r,o,i,s,a,c,l){return(()=>{var u={jOia:(e,t)=>{t.DEFAULT_LOCALE="en-US"},AFX1:e=>{e.exports={MOBILE_DEVICE:"mobile",TABLET_DEVICE:"tablet",DESKTOP_DEVICE:"desktop",IOS_OS_NAME:"iOS",ANDROID_OS_NAME:"Android"}},HFvH:(e,t,n)=>{const{MOBILE_DEVICE:r,TABLET_DEVICE:o,IOS_OS_NAME:i,ANDROID_OS_NAME:s}=n("AFX1");e.exports={isMobile:e=>e===r,isTouch:e=>[r,o].includes(e),isIos:e=>e===i,isAndroid:e=>e===s}},"1J0n":(e,t,n)=>{const{DEFAULT_LOCALE:r}=n("jOia");t.Q={locale:r,computedLocale:r,userId:0,country:"",countryCode:"",pageCtxId:"",isPro:!1,abTests:{},userAgent:"",knownCrawler:!1,csrfToken:"",browserLanguage:"",currency:"",pathParameters:{},queryParameters:{},userGuid:"",url:"",ip:"",referrer:"",organizationId:"",experience:{isBuyer:!1,isSeller:!1,isBusiness:!1,value:""},isMobile:!1,isTouch:!1,isIos:!1}},"kBU/":(e,t,n)=>{var r=n("3BTF"),o=n("VxPs");n("rS/+");function i(e){return null==e}function s(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}s.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,s=t.onIgnoreAttr,a=t.safeAttrValue;return o(e,(function(e,t,o,c,l){var u=n[o],d=!1;if(!0===u?d=u:"function"==typeof u?d=u(c):u instanceof RegExp&&(d=u.test(c)),!0!==d&&(d=!1),c=a(o,c)){var p,f={position:t,sourcePosition:e,source:l,isWhite:d};return d?i(p=r(o,c,f))?o+":"+c:p:i(p=s(o,c,f))?void 0:p}}))},e.exports=s},"3BTF":(e,t)=>{function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},w9Sv:(e,t,n)=>{var r=n("3BTF"),o=n("kBU/");for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,r)t[i]=r[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)},VxPs:(e,t,n)=>{var r=n("rS/+");e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,o=!1,i=0,s=0,a="";function c(){if(!o){var n=r.trim(e.slice(i,s)),c=n.indexOf(":");if(-1!==c){var l=r.trim(n.slice(0,c)),u=r.trim(n.slice(c+1));if(l){var d=t(i,a.length,l,u,n);d&&(a+=d+"; ")}}}i=s+1}for(;s<n;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var u=e.indexOf("*/",s+2);if(-1===u)break;i=(s=u+1)+1,o=!1}else"("===l?o=!0:")"===l?o=!1:";"===l?o||c():"\n"===l&&c()}return r.trim(a)}},"rS/+":e=>{e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},"3SKs":e=>{e.exports={}},"/MH/":e=>{e.exports={}},"8jpx":e=>{e.exports={}},vzmT:e=>{e.exports={}},gDIq:e=>{e.exports={}},WzVn:e=>{e.exports={}},dovV:e=>{e.exports={}},jEKc:e=>{e.exports={}},"3wFc":e=>{e.exports={"fit-icon":"lFICM06",fitIcon:"lFICM06","fit-icon-clickable":"aYWKOWF",fitIconClickable:"aYWKOWF"}},"/Evt":e=>{e.exports={box:"eNQzN1I","box-hidden":"_7ByOitF",boxHidden:"_7ByOitF",content:"+tp8jaJ"}},"/jFF":e=>{e.exports={popover:"e4rLWCQ",content:"FPMjOVo",clickable:"DQP4pgk","inline-append":"_5tFuFhP",inlineAppend:"_5tFuFhP","popover-container":"V-093mG",popoverContainer:"V-093mG"}},rXjO:e=>{e.exports={tooltip:"_1DtaAoI","box-content":"l9wFBjm",boxContent:"l9wFBjm",box:"LIc0-hX"}},Gf4R:e=>{e.exports={"item-meta":"r15kMhW",itemMeta:"r15kMhW",spacer:"rVZcp0W","icn-status":"C1dnCNg",icnStatus:"C1dnCNg",tooltip:"_8ifc4MF"}},"+qQp":e=>{e.exports={card:"_2k7hHTq",fadeIn:"GJvw-ZM",expired:"y0ycczG"}},"33yw":e=>{e.exports={container:"_6UpUSN7"}},Fo8R:(e,t,n)=>{var r=n("w9Sv").FilterCSS,o=n("w9Sv").getDefaultWhiteList,i=n("oGsw");function s(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var a=new r;function c(e){return e.replace(l,"&lt;").replace(u,"&gt;")}var l=/</g,u=/>/g,d=/"/g,p=/&quot;/g,f=/&#([a-zA-Z0-9]*);?/gim,m=/&colon;?/gim,g=/&newline;?/gim,h=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,b=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,y=/u\s*r\s*l\s*\(.*/gi;function v(e){return e.replace(d,"&quot;")}function w(e){return e.replace(p,'"')}function O(e){return e.replace(f,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function _(e){return e.replace(m,":").replace(g," ")}function E(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return i.trim(t)}function C(e){return e=E(e=_(e=O(e=w(e))))}function T(e){return e=c(e=v(e))}t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=s,t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=C(n),"href"===t||"src"===t){if("#"===(n=i.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(h.lastIndex=0,h.test(n))return""}else if("style"===t){if(b.lastIndex=0,b.test(n))return"";if(y.lastIndex=0,y.test(n)&&(h.lastIndex=0,h.test(n)))return"";!1!==r&&(n=(r=r||a).process(n))}return n=T(n)},t.escapeHtml=c,t.escapeQuote=v,t.unescapeQuote=w,t.escapeHtmlEntities=O,t.escapeDangerHtml5Entities=_,t.clearNonPrintableCharacter=E,t.friendlyAttrValue=C,t.escapeAttrValue=T,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(s,a,c){if(function(t){return!!n||-1!==i.indexOf(e,t)}(s)){if(c.isClosing){var l="[/removed]",u=c.position+l.length;return r.push([!1!==o?o:c.position,u]),o=!1,l}return o||(o=c.position),"[removed]"}return t(s,a,c)},remove:function(e){var t="",n=0;return i.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},t.stripCommentTag=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var o=e.indexOf("--\x3e",r);if(-1===o)break;n=o+3}return t},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.cssFilter=a,t.getDefaultCSSWhiteList=o},tTwn:(e,t,n)=>{var r=n("Fo8R"),o=n("yuEw"),i=n("9bA5");function s(e,t){return new i(t).process(e)}for(var a in(t=e.exports=s).filterXSS=s,t.FilterXSS=i,r)t[a]=r[a];for(var a in o)t[a]=o[a];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},yuEw:(e,t,n)=>{var r=n("oGsw");function o(e){var t=r.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=r.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function i(e){return"</"===e.slice(0,2)}var s=/[^a-zA-Z0-9_:\.\-]/gim;function a(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var r="",s=0,a=!1,c=!1,l=0,u=e.length,d="",p="";e:for(l=0;l<u;l++){var f=e.charAt(l);if(!1===a){if("<"===f){a=l;continue}}else if(!1===c){if("<"===f){r+=n(e.slice(s,l)),a=l,s=l;continue}if(">"===f){r+=n(e.slice(s,a)),d=o(p=e.slice(a,l+1)),r+=t(a,r.length,d,p,i(p)),s=l+1,a=!1;continue}if('"'===f||"'"===f)for(var m=1,g=e.charAt(l-m);""===g.trim()||"="===g;){if("="===g){c=f;continue e}g=e.charAt(l-++m)}}else if(f===c){c=!1;continue}}return s<e.length&&(r+=n(e.substr(s))),r},t.parseAttr=function(e,t){"use strict";var n=0,o=[],i=!1,u=e.length;function d(e,n){if(!((e=(e=r.trim(e)).replace(s,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var p=0;p<u;p++){var f,m=e.charAt(p);if(!1!==i||"="!==m)if(!1===i||p!==n||'"'!==m&&"'"!==m||"="!==e.charAt(p-1))if(/\s|\n|\t/.test(m)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(f=a(e,p))){d(r.trim(e.slice(n,p))),i=!1,n=p+1;continue}p=f-1;continue}if(-1===(f=c(e,p-1))){d(i,l(r.trim(e.slice(n,p)))),i=!1,n=p+1;continue}}else;else{if(-1===(f=e.indexOf(m,p+1)))break;d(i,r.trim(e.slice(n+1,f))),i=!1,n=(p=f)+1}else i=e.slice(n,p),n=p+1}return n<e.length&&(!1===i?d(e.slice(n)):d(i,l(r.trim(e.slice(n))))),r.trim(o.join(" "))}},oGsw:e=>{e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},"9bA5":(e,t,n)=>{var r=n("w9Sv").FilterCSS,o=n("Fo8R"),i=n("yuEw"),s=i.parseTag,a=i.parseAttr,c=n("oGsw");function l(e){return null==e}function u(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList=e.whiteList||e.allowList||o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}u.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,i=t.onIgnoreTag,u=t.onTagAttr,d=t.onIgnoreTagAttr,p=t.safeAttrValue,f=t.escapeHtml,m=this.cssFilter;t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e));var g=!1;if(t.stripIgnoreTagBody){g=o.StripTagBody(t.stripIgnoreTagBody,i);i=g.onIgnoreTag}var h=s(e,(function(e,t,o,s,g){var h,b={sourcePosition:e,position:t,isClosing:g,isWhite:n.hasOwnProperty(o)};if(!l(h=r(o,s,b)))return h;if(b.isWhite){if(b.isClosing)return"</"+o+">";var y=function(e){var t=c.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=c.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=c.trim(e.slice(0,-1))),{html:e,closing:n}}(s),v=n[o],w=a(y.html,(function(e,t){var n,r=-1!==c.indexOf(v,e);return l(n=u(o,e,t,r))?r?(t=p(o,e,t,m))?e+'="'+t+'"':e:l(n=d(o,e,t,r))?void 0:n:n}));s="<"+o;return w&&(s+=" "+w),y.closing&&(s+=" /"),s+=">"}return l(h=i(o,s,b))?f(s):h}),f);return g&&(h=g.remove(h)),h},e.exports=u},jgnj:t=>{"use strict";t.exports=e},"/jHP":e=>{"use strict";e.exports=t},"IX+1":e=>{"use strict";e.exports=n},luq0:e=>{"use strict";e.exports=r},JjgO:e=>{"use strict";e.exports=o},"m/UF":e=>{"use strict";e.exports=i},uho8:e=>{"use strict";e.exports=s},LL9j:e=>{"use strict";e.exports=a},"8zM4":e=>{"use strict";e.exports=c},glLg:e=>{"use strict";e.exports=l}},d={};function p(e){var t=d[e];if(void 0!==t)return t.exports;var n=d[e]={exports:{}};return u[e](n,n.exports,p),n.exports}p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},p.d=(e,t)=>{for(var n in t)p.o(t,n)&&!p.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var f={};return(()=>{"use strict";p.r(f),p.d(f,{default:()=>ec});var e={};p.r(e),p.d(e,{subscribe:()=>et});var t={};p.r(t),p.d(t,{addItem:()=>bo,itemMarkRead:()=>yo,itemMarkUnread:()=>vo});const n="object"==typeof window&&window.window===window&&window||"object"==typeof p.g&&p.g.global===p.g&&p.g||"object"==typeof self&&self.self===self&&self,r=Symbol();class o{constructor(){this[r]=new Map}on(e,t){let n=this[r].get(e);n||(this[r].set(e,new Set),n=this[r].get(e)),n.add(t)}once(e,t){var n=this;const r=function(){n.off(e,r),t(...arguments)};this.on(e,r)}one(e,t){this.has(e)||this.on(e,t)}has(e){return this[r].has(e)}off(e,t){if(!this[r].has(e))return;if(void 0===t)return void this[r].delete(e);const n=this[r].get(e);n.delete(t),0===n.size&&this[r].delete(e)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const i=this[r].get(e);i&&i.forEach((e=>{e(...n)}))}deferred(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Promise.resolve().then((()=>{this.emit(e,...n)}))}}const i=Symbol.for("globalEventBus"),s=n[i]=n[i]||new o,a="OBS::LOGGER",c="debug",l="verbose",u="info",d="warn",m="error",g="critical",h=[c,l,u,d,m,g],b=h.reduce(((e,t)=>Object.assign(e,{[t]:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.deferred(a,{entity:e,enrichments:n,level:t})}})),{});Object.defineProperty(b,"force",{value:h.reduce(((e,t)=>Object.assign(e,{[t]:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.deferred(a,{entity:e,enrichments:n,level:t,force:true})}})),{})});const y=b,v="OBS::STATS",w=["count","time","gauge","set","histogram"],O=w.reduce(((e,t)=>Object.assign(e,{[t]:function(e,n,r){let{rate:o,tags:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object.entries({prefix:e,metric:n}).forEach(((e,t)=>{let[n,r]=e;if("string"!=typeof r||!r)throw new TypeError("Expected argument ".concat(t," (").concat(n,") to be a string. Instead got ").concat(typeof r," (").concat(r,")"))}));const a=[e,n].join(".");return s.deferred(v,{type:t,key:a,value:r,rate:o,tags:i})}})),{});Object.defineProperty(O,"prefix",{value:e=>w.reduce(((t,n)=>Object.assign(t,{[n]:O[n].bind(O,e)})),{})});const _=O;var E=p("luq0"),C=p.n(E);const T=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s.deferred(e,{events:n})};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=e=>{return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:e.type,name:e.name,created_at:new Date(e.createdAt).toISOString(),duration:e.duration||null,value:e.value||null},{context_id:(t=e.context).id,user_id:t.userId.toString(),country_code:t.countryCode,browser:t.browserName,locale:t.locale,currency:t.currency,platform:t.platform});var t},P=e=>{e.context.isKnownCrawler||k(x(e))},k=T("OBS::BIG_QUERY_MONICORE"),I="monicore",N="mobile_web",A="web";class L extends Error{constructor(e){super(e),this.name="ContextNotFoundError"}}const D=Date.now(),R=window.performance&&window.performance.now?window.performance:{now:()=>Date.now()-D,timeOrigin:D};var M=p("glLg"),F=p.n(M),B=p("HFvH");const q=Symbol(),U=(e,t,n)=>{Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!1})},H=e=>{if(e[q])return e;if(!(e=>!!e&&(0,E.isObject)(e)&&!Array.isArray(e))(e))return y.error("FiverrContext computed mixin target is not valid, please contact platform team."),e;const{userAgent:t}=e,n=F()(t),{device:{type:r},os:{name:o}}=n,i={isMobile:B.isMobile(r),isTouch:B.isTouch(r),isIos:B.isIos(o),isAndroid:B.isAndroid(o)};return U(e,q,!0),Object.entries(i).forEach((t=>{let[n,r]=t;return U(e,n,r)})),e};var V=p("1J0n");const W=()=>{const e=C().get(window,"initialData.FiverrContext");return e?H(e):(y.error({message:"Browser context does not exist, please ensure the run time owner sets one on the window scope before using this API"}),V.Q)},z=()=>{const{pageCtxId:e,userId:t,countryCode:n,locale:r,isMobile:o,currency:i}=W();return{id:e||"",userId:t||"",countryCode:n||"",locale:r||"",currency:i||"",platform:o?N:A}},G="event",K="error",Z="measure",Q=[G,K],X="START_SPAN_ERROR",Y="END_SPAN_ERROR",J="ADD_EVENT_ERROR",$="ADD_ERROR_ERROR",ee=()=>R.now()+(()=>{let e=R.timeOrigin;return"number"!=typeof e&&(e=R.timing&&R.timing.navigationStart),e})(),te=e=>!(!(0,E.isUndefined)(e)&&!(0,E.isString)(e))||(y.error("Expected value to be a string. Instead got a ".concat(typeof e),{caughtBy:I,value:e}),!1),ne=e=>!(!(0,E.isString)(e)||(0,E.isEmpty)(e))||(y.error("Expected name to be a string. Instead got a ".concat(typeof e),{caughtBy:I,name:e}),!1),re=()=>{_.count("monicore","context_not_found")},oe=e=>{if(ne(e))try{((e,t)=>{window._monicore_spans||(window._monicore_spans={}),window._monicore_spans[e]=t})(e,ee())}catch(e){e instanceof L?re():y.warn(e,{caughtBy:I,code:X})}},ie=(e,t)=>{if(ne(e)){te(t)||(t=void 0);try{const n=ee(),r=(e=>{if(window._monicore_spans)return window._monicore_spans[e]})(e);if(!r)throw new Error("Span ".concat(e," was ended without beeing previously started"));const o={name:e,duration:n-r,value:t,type:Z,createdAt:r,context:z()};P(o)}catch(e){e instanceof L?re():y.warn(e,{caughtBy:I,code:Y})}}},se=(e,t)=>{try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;if(ne(e))if(Q.includes(n)){te(t)||(t=void 0);try{const r={name:e,value:t,type:n,createdAt:ee(),context:z()};P(r)}catch(e){e instanceof L?re():y.warn(e,{caughtBy:I,code:J})}}else y.error('Expected "type" to be event or error. Instead got a '.concat(n),{caughtBy:I,code:J})}(e,t,K)}catch(e){y.warn(e,{caughtBy:I,code:$})}};var ae=p("m/UF"),ce=p.n(ae),le=p("uho8"),ue=p.n(le);const de=_.prefix("services.layout_server"),pe=(de.time,de.count),fe=(e,t,n)=>{const r="Layout component: ".concat(t,", failed on entry: ").concat(n,"."),o="layout.CSR.".concat(t,".").concat(n);y.error(e instanceof Error?e:new Error(r),{description:r,componentName:t,entryName:n,package:"@fiverr-private/layout-sdk"}),se(o),pe("layout_component.".concat(t,".error"))};class me extends ae.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){const{componentName:n,entryName:r}=this.props;fe(e,n,r)}render(){return this.state.hasError?null:this.props.children}}var ge,he=p("jgnj"),be=p.n(he),ye=new Uint8Array(16);function ve(){if(!ge&&!(ge="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ge(ye)}const we=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const Oe=function(e){return"string"==typeof e&&we.test(e)};for(var _e=[],Ee=0;Ee<256;++Ee)_e.push((Ee+256).toString(16).substr(1));const Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(_e[e[t+0]]+_e[e[t+1]]+_e[e[t+2]]+_e[e[t+3]]+"-"+_e[e[t+4]]+_e[e[t+5]]+"-"+_e[e[t+6]]+_e[e[t+7]]+"-"+_e[e[t+8]]+_e[e[t+9]]+"-"+_e[e[t+10]]+_e[e[t+11]]+_e[e[t+12]]+_e[e[t+13]]+_e[e[t+14]]+_e[e[t+15]]).toLowerCase();if(!Oe(n))throw TypeError("Stringified UUID is invalid");return n};const Te=function(e,t,n){var r=(e=e||{}).random||(e.rng||ve)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Ce(r)},Se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return e.split(".").reduce(((e,t)=>"object"==typeof e?e[t]:e),t)},je=["get","value","set","configurable","enumerable","writable"],xe=["get","value"];function Pe(e){const t={};function n(e,n){return t[e]=e in t?t[e]:n()}for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];o.forEach((t=>ke.call(e,t,n)))}function ke(e,t){const n=Object.getOwnPropertyDescriptor(this.constructor.prototype,e),r=je.reduce(((r,o)=>{switch(typeof n[o]){case"undefined":break;case"function":xe.includes(o)?r[o]=()=>t("".concat(e,"$").concat(o),n[o].bind(this)):r[o]=n[o];break;default:r[o]=n[o]}return r}),{});Object.defineProperty(this,e,r)}const Ie=new class{constructor(){Pe(this,"node","browser","development","production","testing","plike","toString")}get node(){return"[object process]"===Object.prototype.toString.call(void 0!==n.process?n.process:0)}get browser(){return n.document&&"function"==typeof n.document.createElement||!this.node&&[typeof document,typeof window].every((e=>"undefined"!==e))}get development(){return this.toString().includes("dev")}get dev(){return this.development}get production(){return this.toString().includes("prod")}get prod(){return this.production}get testing(){return this.toString().includes("test")}get test(){return this.testing}get plike(){return this.toString().includes("like")}toString(){return((this.node?Se("process.env.NODE_ENV"):Se("app.environment")||(e=>{if("undefined"==typeof document)return;const t=document.querySelector('meta[name="'.concat(e,'"]'));return t&&t.getAttribute("content")||void 0})("app_environment"))||"").toLowerCase()}},Ne="__ECHO_TABS__",Ae="__ECHO_TABS_RESPONSE__",Le="onEchoReportEnd",De=()=>{new Audio("//fiverr-res.cloudinary.com/video/upload/t_fiverr_audio/kxzjjjzyhrqqo65doz60").play()};class Re{hasFocus(){return document.hasFocus()}}function Me(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Me(i,r,o,s,a,"next",e)}function a(e){Me(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class qe{constructor(e){var t=this;Be(this,"_queue",{}),Be(this,"_queueKickedOff",{}),Be(this,"_gotResponse",{}),Be(this,"_callbacks",{}),Be(this,"_handlers",[]),Be(this,"isFocused",(()=>this._page.hasFocus())),Be(this,"subscribe",(e=>(this._handlers.push(e),()=>{const t=this._handlers.indexOf(e);this._handlers.splice(t,1)}))),Be(this,"broadcast",(e=>{this._channel&&this._channel.postMessage(e)})),Be(this,"_shouldPlaySound",(()=>new Promise((e=>{if(!this._channel)return void e(!0);if(this.isFocused())return void e(!0);const t=Te();this._gotResponse[t]=!1,this._callbacks[t]||(this._callbacks[t]={}),this._callbacks[t].onEchoReportEnd=n=>{this._gotResponse[t]=!0,this._anotherTabIsOpen(n)?e(!1):this._currentTabShouldPlaySound(n)?e(!0):e(!1)},this._channel.postMessage({type:Ne,uid:t,callbackFnName:Le}),setTimeout((()=>{this._gotResponse[t]?e(!1):e(!0)}),600)})))),Be(this,"_anotherTabIsOpen",(e=>e.some((e=>e.isFocused)))),Be(this,"_currentTabShouldPlaySound",(e=>{const t=(0,E.orderBy)(e,"createdAt","desc")[0];return this._createdAt>t.createdAt})),Be(this,"playSound",(0,E.throttle)(Fe((function*(){(yield t._shouldPlaySound())&&De()})),1e3,{trailing:!1})),Be(this,"_onBroadcastMessage",(e=>{let{data:t}=e;const{_tabId:n,_createdAt:r}=this,{type:o,callbackFnName:i,uid:s}=t;switch(o){case Ne:{const e=this.isFocused();this._channel.postMessage({type:Ae,uid:s,tabId:n,createdAt:r,callbackFnName:i,isFocused:e});break}case Ae:this._recordInQueue({uid:s,data:t,callbackFnName:i})}this._notifySubscribers(t)})),Be(this,"_notifySubscribers",(e=>{this._handlers.forEach((t=>t(e)))})),Be(this,"_recordInQueue",(e=>{let{uid:t,data:n,callbackFnName:r}=e;this._queue[t]||(this._queue[t]=[]),this._queue[t].push(n),this._queueKickedOff[t]||(this._queueKickedOff[t]=!0,setTimeout((()=>{this._queueKickedOff[t]=!1,this._callbacks[t]&&this._callbacks[t][r]&&this._callbacks[t][r](this._queue[t]),this._queue[t]=[]}),500))})),Ie.browser&&(this._page=e,this._createdAt=Date.now(),this._tabId="".concat(Te()),"BroadcastChannel"in window&&(this._channel=new BroadcastChannel("pinned_flashes::channel"),this._channel.onmessage=this._onBroadcastMessage))}static create(){const e=new Re;return new qe(e)}}const Ue=qe.create(),He={INBOX_MESSAGES:"inbox_message_realtime_notification",PINNED_FLASHES:"pinned_flash_realtime_notification"},Ve=e=>"object"==typeof Fiverr&&"function"==typeof Fiverr[e]||void 0,We=(ze="_logErrorToServer",function(){return Ve(ze)&&Fiverr[ze](...arguments)});var ze;const Ge=Symbol.for("SocketHandler"),Ke=Symbol.for("SocketSubscriptions"),Ze="open",Qe="close",Xe="message";n[Ke]=n[Ke]||new o;const Ye=function(){let{data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){try{e=JSON.parse(e)}catch(t){We("socketHandler","incomingHandler","unable to parse event: ".concat(e))}e&&"object"==typeof e&&e.eventType&&n[Ke].emit(e.eventType,e)}},Je=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;"string"==typeof t&&t.split(" ").forEach((t=>n[Ke][e](t,r)))},$e={connect:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&!n[Ge]&&Ie.browser?(n[Ge]=new WebSocket(e),n[Ge].addEventListener(Ze,(()=>{n[Ge].addEventListener(Xe,Ye),$e.send(t)})),n[Ge].addEventListener(Qe,(function r(){setTimeout((()=>{$e.connect(e,t)}),1500),n[Ge].removeEventListener(Qe,r),n[Ge].removeEventListener(Xe,Ye)})),$e):$e},send:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ie.browser&&1===n[Ge].readyState&&n[Ge].send(JSON.stringify(e)),$e},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Je("on",...t)},once:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Je("once",...t)},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Je("off",...t)}};function et(e){return function(e,t){return $e.on(e,t),()=>{$e.off(e,t)}}([He.INBOX_MESSAGES,He.PINNED_FLASHES].join(" "),e)}var tt=p("JjgO"),nt=p.n(tt),rt=p("LL9j");const ot="realtime_notifications::try_me",it="realtime_notifications::sound_enabled_change",st="realtime_notifications::realtime_enabled_change",at="realtime_notifications",ct="realtime_notifications_shared";function lt(e,t){return function(e){return e.notifications}(e)[t]}function ut(e){return e.toasts}function dt(e){return ut(e).length>=3}function pt(e){return ut(e).map((t=>lt(e,t)))}function ft(e){return e.settings}function mt(e){return ft(e).realtimeEnabled}function gt(e){return e.queue}function ht(e){return 0===gt(e).length}const bt="QUEUE_ACTIONS_ENQUEUE",yt="QUEUE_ACTIONS_DEQUEUE",vt="QUEUE_ACTIONS_REMOVE";const wt=()=>(e,t)=>{if(ht(t()))return null;const n=gt(t())[0];return e({type:yt}),n};const Ot="TAB_COMMUNICATION_NOTIFICATION_CONSUMED",_t=e=>()=>{Ue.broadcast(function(e){return{type:Ot,payload:e}}(e))};function Et(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(".")}const Ct=Et("pinned_flashes","realtime_notifications_package");const Tt={count:function(e){_.count(Ct,e)}};function St(e){return Et("toast",e)}const jt={NOTIFICATION_TOAST_EMITTED:St("emitted"),NOTIFICATION_TOAST_CLICKED:St("clicked"),NOTIFICATION_TOAST_DISMISSED:St("dismissed")},xt="TOASTS_ACTIONS_ADD",Pt="TOASTS_ACTIONS_REMOVE";const kt=e=>t=>{t(function(e){return{type:Pt,payload:e}}(e)),t(function(e){return{type:At,payload:e}}(e)),t(It())},It=()=>(e,t)=>{if(dt(t()))return;const n=e(wt());if((0,E.isNil)(n))return;e(function(e){return{type:xt,payload:e}}(lt(t(),n))),e(_t(n)),Tt.count(jt.NOTIFICATION_TOAST_EMITTED)};const Nt="NOTIFICATIONS_ACTIONS_ADD",At="NOTIFICATIONS_ACTIONS_REMOVE",Lt=e=>(t,n,r)=>{let{tabManager:o}=r;const i=n();if(t(function(e){return{type:Nt,payload:e}}(e)),function(e){return ft(e).soundEnabled}(i)&&o.playSound(),function(e,t){return!!lt(e,t)}(i,e.id))return;const s=o.isFocused()&&!dt(i);t(function(e){return{type:bt,payload:e.id}}(e)),s&&t(It())};const Dt=e=>t=>{t(function(e){return{type:vt,payload:e}}(e))};const Rt="SETTINGS_ACTIONS_SET_SOUND_ENABLED",Mt="SETTINGS_ACTIONS_SET_NOTIFICATIONS_ENABLED";function Ft(e){return e.username}const Bt=nt().shape({subscribe:nt().func.isRequired}),qt=nt().shape({id:nt().string.isRequired,subType:nt().string,msgParams:nt().object}),Ut=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,E.transform)(n,((t,n)=>{const r=(0,E.result)(e,n);return r&&t.push(r),!t.length}),[])[0]};function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return Vt(Vt({},e),{},{[t[0]]:Ut(e,...t)||n})},Gt="DEFAULT_VALUE",Kt="times",Zt="present",Qt="ribbon",Xt="docs",Yt="bell",Jt="team",$t="pencil",en="member",tn={admin_moved_gig:$t,and_co_announcement:Zt,audio_file_deny:$t,business_accounts_team_invitation_accepted_invitee:Jt,business_accounts_team_invitation_accepted_invitor:en,business_accounts_team_invitation_created:Jt,workspaces_team_invitation_accepted:en,workspaces_team_invitation_created:Jt,buyer_brief_notification_for_buyer_multi:Xt,buyer_brief_notification_for_buyer_single:Xt,buyer_brief_notification_for_buyer:Xt,buyer_profile_reminder:"form",buying_conversion_prediction_intervention_b:Yt,buying_conversion_prediction_intervention_c:Yt,buying_conversion_prediction_intervention:Yt,byob_user_notification:Zt,custom:Zt,delayed_private_review:$t,deny_user_notif:Kt,featured_promotion:Qt,free_gig:Zt,gig_handpicked:Qt,gig_pro_toggled_off:Xt,gig_pro_toggled_on:Xt,id_verification_document_unrecognized:Yt,id_verification_failed:Yt,id_verification_indecisive_max_tries:Yt,id_verification_indecisive_try_again:Yt,id_verification_low_quality:Yt,id_verification_passed:Yt,level_down_notification:Qt,level_trs_kept_notification:Qt,level_trs_nominated_notification:Qt,level_two_kept_notification:Qt,level_up_notification:Qt,new_levels_system_notification:Qt,new_user_notification:Xt,notify_user_on_referral_registration:Zt,optional_phone_verification:"phone",pro_seller_account_created:Xt,profile_image_not_unique_deleted:$t,profile_image_not_unique_warning:$t,prompt_user_change_password:Xt,request_paused:Xt,request_unapproved:Kt,seo_restructure_announcement:$t,shopping_balance_deposit_pending:Zt,shopping_balance_deposit_share:Zt,shopping_balance_deposit:Zt,soft_deny_user_notif:$t,team_member_added:Xt,trigger_id_verification:Yt,try_live:Yt,welcome_back_from_ooo_mode:"suitcase",business_chat_added:Yt},nn=e=>"inbox"===e.type,rn=e=>(nn(e)?e.subType="conversation":e.subType=e.sub_type,e),on=e=>zt(e,["username","msg_params.seller","msg_params.user","msg_params.buyer"]),sn=e=>zt(e,["unreadCount","unread_count"]),an=e=>zt(e,["type","msg_type"]),cn=e=>zt(e,["profilePicture","images.user","msg_params.images.user","msg_params.images.profile_image"]),ln=e=>zt(e,["msg_params.icon"],tn[e.subType]),un=e=>zt(e,["isRead","is_read"]),dn=e=>zt(e,["online","is_online"]),pn=e=>zt(e,["url","msg_params.full_url","msg_params.url"],"#!"),fn=e=>zt(e,["previewImage","images.gig"]),mn=e=>zt(e,["userMessage","params.message_content","preview_text"]),gn=e=>nn(e)?e:zt(e,["content","params.content","msg_params.content"],Gt),hn=e=>[on,sn,an,rn,cn,ln,un,dn,pn,fn,mn,gn].reduce(((e,t)=>t(e)),e),bn="Something went wrong",yn=function(e){let t,{module:n="",payload:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=e instanceof Error?e:"string"==typeof e?new Error(e):new Error(bn),t.details={payload:r,package:"@fiverr-private/realtime_notifications",module:n},setTimeout((()=>{throw t}))},vn=(e,t)=>n=>class extends ce().Component{componentDidCatch(n){yn(n,{module:e,payload:{componentName:t}})}render(){return ce().createElement(n,this.props)}};function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class On extends ce().Component{constructor(e){super(e),wn(this,"onRealtimeSettingsChange",(()=>{const{realtimeEnabled:e}=this.props;e?this.registerSocket():(this.socketUnsubscribe(),this.socketUnsubscribe=E.noop)})),wn(this,"handleNewNotification",(e=>{const{handleNewNotification:t}=this.props;t(hn(e))})),wn(this,"onCurrentTabStorageChange",(e=>{let{detail:t}=e;this.onStorageChanges(t)})),wn(this,"registerToSettingsChanges",(()=>{window.addEventListener("storage",this.onStorageChanges),document.addEventListener(it,this.onCurrentTabStorageChange),document.addEventListener(st,this.onCurrentTabStorageChange)})),wn(this,"onStorageChanges",(e=>{let{key:t,newValue:n}=e;const{setSoundEnabled:r,setNotificationsEnabled:o}=this.props,i="true"===n;switch(t){case it:r(i);break;case st:o(i)}})),wn(this,"registerToTryMeDemoEvent",(()=>{document.addEventListener(ot,this.onTryMeDemoEvent)})),wn(this,"onTryMeDemoEvent",(()=>{const{username:e}=this.props,t=(e=>({id:"dummy",type:"notifications",sub_type:"try_live",is_read:!0,updated_at:Math.round(Date.now()/1e3),msg_params:{user:e}}))(e);this.handleNewNotification(t)})),this.socketUnsubscribe=E.noop,this.handleCrossTabCommunications=this.handleCrossTabCommunications.bind(this)}componentDidMount(){this.onRealtimeSettingsChange(),this.registerToTryMeDemoEvent(),this.registerToSettingsChanges(),this.props.tabManager.subscribe(this.handleCrossTabCommunications),this.registerWindowFocus()}componentDidUpdate(e){this.props.realtimeEnabled!==e.realtimeEnabled&&this.onRealtimeSettingsChange()}componentWillUnmount(){document.removeEventListener(ot,this.onTryMeDemoEvent),window.removeEventListener("storage",this.onStorageChanges),document.removeEventListener(it,this.onCurrentTabStorageChange),document.removeEventListener(st,this.onCurrentTabStorageChange),this.socketUnsubscribe()}registerSocket(){const{socket:e}=this.props;this.socketUnsubscribe=e.subscribe(this.handleNewNotification)}registerWindowFocus(){window.addEventListener("focus",this.props.handleFocus)}handleCrossTabCommunications(e){const{type:t}=e;switch(t){case Ot:{const t=e.payload;this.props.markNotificationConsumed(t);break}}}render(){return null}}On.propTypes={socket:Bt,username:nt().string.isRequired,handleNewNotification:nt().func.isRequired,tabManager:nt().object.isRequired,handleFocus:nt().func.isRequired,markNotificationConsumed:nt().func.isRequired,setNotificationsEnabled:nt().func.isRequired,setSoundEnabled:nt().func.isRequired,realtimeEnabled:nt().bool.isRequired};const _n=(0,E.flow)((0,rt.connect)((e=>({username:Ft(e),realtimeEnabled:mt(e)})),(e=>({handleNewNotification:t=>e(Lt(t)),handleFocus:()=>e((e=>{for(const t of(0,E.range)(3))e(It())})),setSoundEnabled:t=>e({type:Rt,payload:t}),setNotificationsEnabled:t=>e({type:Mt,payload:t}),markNotificationConsumed:t=>e(Dt(t))}))),vn(at,"Listener"))(On);function En(e){const t=document.querySelector('link[rel="shortcut icon"]');t&&t.setAttribute("href",e)}const Cn={decorate:function(){En("https://fiverr-res.cloudinary.com/npm-assets/layout-server/favicon-active.9a2c248.ico")},reset:function(){En("https://fiverr-res.cloudinary.com/npm-assets/layout-server/favicon.52df53a.ico")}};function Tn(e){let{isActive:t}=e;return t?ce().createElement(jn,null):ce().createElement(Sn,null)}function Sn(){return(0,ae.useEffect)((()=>{Cn.reset()}),[]),null}function jn(){return(0,ae.useEffect)((()=>{Cn.decorate()}),[]),null}Tn.propTypes={isActive:nt().bool.isRequired};const xn=(0,E.flow)((0,rt.connect)((e=>{const t=!ht(e)||!function(e){return 0===ut(e).length}(e);return{isActive:t}})),vn(at,"Favicon"))(Tn);var Pn=p("8zM4");function kn(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var In=kn();In.withExtraArgument=kn;const Nn=In;function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Bn=(0,Pn.combineReducers)({notifications:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:{const n=t.payload;return Ln(Ln({},e),{},{[n.id]:n})}case At:{const n=t.payload,r=Ln({},e);return delete r[n.id],r}default:return e}},toasts:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xt:{const n=t.payload;return[...e,n.id]}case Pt:{const n=t.payload;return e.filter((e=>e!==n.id))}default:return e}},queue:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return[...e,t.payload];case yt:const[,...n]=e;return n;case vt:const r=t.payload;return e.filter((e=>e!==r));default:return e}},settings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return Mn(Mn({},e),{},{soundEnabled:t.payload});case Mt:return Mn(Mn({},e),{},{realtimeEnabled:t.payload});default:return e}},username:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}}),qn="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Pn.compose;function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){Vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Wn=e=>function(t){const n=Hn(Hn({},W()),t);return ce().createElement(e,n)};var zn=p("jOia");const Gn={children:tt.func.isRequired,locale:tt.string};function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qn=e=>{let{children:t,locale:n=zn.DEFAULT_LOCALE}=e;return t({i18n:i18n.spawn(n)})};Qn.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){Zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Gn);const Xn=Wn(Qn);function Yn(){return Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yn.apply(this,arguments)}class Jn extends ce().Component{getChildContext(){return{locale:this.props.locale}}render(){return this.props.children}}Jn.childContextTypes={locale:nt().string,children:nt().any},Jn.propTypes={locale:nt().string,children:nt().any};const $n=e=>{function t(t,n){let{locale:r}=n;return ce().createElement(Xn,{locale:r},(n=>{let{i18n:r}=n;return ce().createElement(e,Yn({i18n:r},t))}))}return t.contextTypes={locale:nt().string},t.displayName="I18nProviderHoc(".concat(e.displayName||e.name||"Component",")"),t};var er=p("IX+1"),tr=p.n(er);const nr={send:T("OBS::BIG_QUERY")},rr={notification:{shown:"notification.shown",clicked:"notification.clicked",markedAsRead:"notification.marked_as_read",markedAsUnread:"notification.marked_as_unread"}},or="imp",ir={group:"notifications",entity:"client"},sr={action:{type:"click"}},ar=e=>cr(e,sr),cr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{item:r,layoutSource:o}=n;return(0,E.merge)({type:e},ir,t,lr(),ur(),dr({item:r,layoutSource:o}))}},lr=()=>{const{pageCtxId:e}=W();return{page:{ctx_id:e}}},ur=()=>{const{userId:e}=W();return{user:{id:e}}},dr=e=>{let{item:t,layoutSource:n}=e;return t?{notification:{id:t.id,type:t.subType,source:n}}:{}},{notification:pr}=rr,fr={[pr.clicked]:ar("clicked_on_notification"),[pr.markedAsRead]:ar("marked_notification_as_read"),[pr.markedAsUnread]:ar("marked_notification_as_unread")},mr={action:{type:or},group:"notification_impressions"},{notification:gr}=rr,hr={[gr.shown]:(br="notification_is_shown",cr(br,mr))};var br;const yr={BIG_QUERY:{name:"bigQuery",events:fr,reporter:nr.send},IMPRESSION:{name:"impression",events:hr}},vr=[yr.BIG_QUERY];const wr=new class{report(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(arguments.length>2&&void 0!==arguments[2]?arguments[2]:vr).forEach((n=>{let{events:r,reporter:o}=n;return this._reportEvent(r[e],o,t)}))}_reportEvent(e,t,n){if(!e)return;t(e(n))}},Or={DRAWER:"drawer",TOAST:"toast"};function _r(e){if(e instanceof Window||e instanceof HTMLDocument)return{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight};const{left:t,top:n,right:r,bottom:o,width:i,height:s}=e.getBoundingClientRect();return{left:t,top:n,right:r,bottom:o,width:i,height:s}}const Er=(e,t)=>e-t,Cr=(e,t)=>t-e;function Tr(e){let{container:t=window,percent:n=50}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=_r(e),o=_r(t),i=n/100,s=e=>{let[t,n,s]=e;return s(r[t],o[t])+r[n]>=r[n]*i};return!["width","height"].some((e=>0===r[e]))&&[["top","height",Er],["left","width",Er],["right","width",Cr],["bottom","height",Cr]].every(s)}const Sr=new class{constructor(e){Pe(this,"available");try{this.storage=Ie.browser&&window[e]}catch(e){}["get","set"].forEach((e=>this[e]=this[e].bind(this)))}get available(){if(!Ie.browser||!this.storage)return!1;const e=Math.random().toString(36).substring(2);try{return this.storage.setItem(e,!0),this.storage.removeItem(e),!0}catch(e){return!1}}get(e){if(!this.available)return;const t=this.storage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}set(e,t){return this.available?new Promise(((n,r)=>{try{this.storage.setItem(e,JSON.stringify(t)),n()}catch(e){r(e)}})):new Promise((e=>e))}remove(e){this.available&&this.storage.removeItem(e)}size(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=!t.length;let o=0;r&&(t=Array.from(Array(this.storage.length)).map(((e,t)=>this.storage.key(t))));const i=t.reduce(((e,t)=>{const n=(t+this.storage.getItem(t)).length;return e[t]=n,r&&(o+=n),e}),{});return r&&Object.assign(i,{total:o}),i}}("localStorage");function jr(e){const{width:t,height:n}=e.getBoundingClientRect();if(0!==t||0!==n)return null;for(;e;){if(e===document.body)return null;if("none"===window.getComputedStyle(e).display)return e;e=e.parentElement}return e}const xr="collect-impressions",Pr={capture:!1,once:!1,passive:!1},kr="impressionable_events",Ir="data-impression-collected",Nr=["load","resize","scroll","touchmove"],Ar=e=>{e&&!C().isEmpty(e)&&nr.send(...e)};function Lr(){const e=Sr.get(kr);e&&(Ar(e),Sr.set(kr,[]))}try{Lr.throttled=C().throttle(Lr,500,{leading:!1}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Lr,{once:!0}):Lr(),window.addEventListener("beforeunload",Lr,{once:!0})}catch(e){}const Dr={data:[],container:"undefined"!=typeof window?window:null,DOMAttribute:"id",dataIdentifier:"id"};class Rr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ie.browser)throw new Error("Impressionable can not be instantiated from a non browser environment");this.options=Object.assign({},Dr,e),this.options.DOMSelector=this.options.DOMSelector||"[".concat(this.options.DOMAttribute,"]");const{data:t,container:n,DOMSelector:r,excludeDOMSelector:o,dataProperty:i,dataIdentifier:s}=this.options;if(!Array.isArray(t))throw new TypeError('Impressionable must receive a "data" array argument. Got '.concat(typeof t));const a=n===window?document.body:n;if(!a)throw new Error("Impressionable container (when passed) expects a DOM element. Got a ".concat(typeof n));const c=Array.from(a.querySelectorAll("".concat(r,":not([").concat(Ir,'="true"])'))),l=o?Array.from(a.querySelectorAll(o)):[],u=C().without(c,...l);Object.assign(this,{container:n,impressed:[],unimpressed:u}),this.data=this.options.data.reduce(((e,t,n)=>(s in t&&(e[t[s]]=Object.assign({$index:n},function(e){try{return JSON.parse(JSON.stringify(e))}catch(e){throw new SyntaxError("Data was expected to be valid for JSON. Got error: ".concat(e))}}(i?C().get(t,i):t))),e)),{}),this.collect=C().throttle(this.collect.bind(this),200,{leading:!1}),this.live()}collect(){const{container:e}=this,t=e===window||Tr(e,{percent:100}),n=[];let r=this.unimpressed.length;for(;r--;){const o=this.unimpressed[r];if(!Tr(o,{container:e}))continue;if(!t&&!Tr(o))continue;const i=this.getImpressionData(o);i?(n.push(i),o.setAttribute(Ir,"true")):o.setAttribute(Ir,"error"),this.impress(r)}return n.length&&(this.storeImpressions(...n),Lr.throttled()),this}impress(e){this.impressed.push(...this.unimpressed.splice(e,1)),this.unimpressed.length||this.retire()}getImpressionData(e){const t=e.getAttribute(this.options.DOMAttribute);let n=this.data[t];if("function"==typeof this.options.enrich){const t=this.options.enrich(n,e);"object"!=typeof t&&!1!==t||(n=t)}return n}storeImpressions(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"function"==typeof this.options.onImpression&&t.forEach(this.options.onImpression),Sr.available?this.stored=t:Ar(t)}get stored(){return Sr.get(kr)||[]}set stored(e){const t=this.stored;t.push(...e),Sr.set(kr,t).catch((()=>{Ar(...t),Sr.remove(kr),_.count("fe_events.error.impressionable","localstorage",1)}))}static get CUSTOM_EVENT(){return xr}get containerEvents(){const e=[xr];return this.container!==window&&e.push("scroll","touchmove"),e}live(){var e;this.containerEvents.forEach((e=>this.container.addEventListener(e,this.collect,Pr))),Nr.forEach((e=>window.addEventListener(e,this.collect,Pr))),(e=this.container,new Promise(((t,n)=>{Ie.browser||n("emerge can not be triggered from a non browser environment");const r=jr(e);if(null===r)return void t(e);if("undefined"==typeof MutationObserver)return void t(e);const o=new MutationObserver((()=>{null===jr(e)&&(t(e),o.disconnect())}));o.observe(r,{attributes:!0})}))).then(this.collect).catch((e=>{throw e}))}die(){this.containerEvents.forEach((e=>this.container.removeEventListener(e,this.collect,Pr))),Nr.forEach((e=>window.removeEventListener(e,this.collect,Pr)))}retire(){this.retired||Object.assign(this,{impressed:[],unimpressed:[],data:{},options:{},retired:!0}).die()}}const Mr=e=>{const t=100/e;return(0,E.range)(0,101,t).map((e=>e/100))},Fr=e=>{let{observableRef:t=null,onObserve:n=E.noop,onIntersect:r=E.noop,onNotSupported:o=E.noop,intersectionThreshold:i=0,thresholdSteps:s=5}=e;return(0,ae.useEffect)((()=>{const e=e=>{const t={threshold:Mr(s)},o=new IntersectionObserver((t=>{const[{intersectionRatio:s}]=t,a=s>0,c=s>=i;a&&r({intersectionRatio:s}),a&&c&&(n({intersectionRatio:s}),o.unobserve(e))}),t);return o};return(()=>{if(!window||!window.IntersectionObserver)return void o();if(!t)throw new Error("observableRef is not defined");const n=t.current,r=e(n);return n&&r.observe(n),()=>r.disconnect()})()}),[t,n,r,o,i,s]),t},Br=e=>{let{buildImpressionData:t=E.noop,eventKey:n}=e;const r=(0,ae.useRef)(),o=(0,ae.useRef)(),i=(0,ae.useCallback)(((e,r)=>{const{events:o}=yr.IMPRESSION,i=o[n],s=t(r);return i((0,E.merge)({},e,s))}),[t,n]),s=(0,ae.useCallback)((()=>{r.current&&(o.current&&o.current.die(),o.current=new Rr({container:r.current,enrich:i}))}),[o,r,i]);(0,ae.useEffect)(s,[]);return Fr({observableRef:r,onObserve:()=>{if(!o.current)return;(0,E.size)(o.current.unimpressed)>0&&o.current.collect()}}),{containerRef:r}},qr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e;return t=>n=>ce().createElement(t,e(n))};p("jEKc");function Ur(e){let{username:t,imageUrl:n,online:r}=e;const o=tr()("profile-picture",{online:r});return ce().createElement("div",{className:o,title:t},t&&ce().createElement("div",{className:"user-initial font-accent"},t[0]),n&&ce().createElement("div",{style:{backgroundImage:"url(".concat(n,")")},className:"user-image"}))}Ur.propTypes={username:nt().string,imageUrl:nt().string,online:nt().bool},Ur.defaultProps={online:!1};const Hr=e=>{const t=document.createElement("div");t.innerHTML=e;const n=t.querySelector("img");return n?n.getAttribute("src"):null},Vr=(0,E.flow)(qr((function(){let{item:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{username:e.username,online:e.online,imageUrl:Hr(e.profilePicture)}})),vn(ct,"ProfilePicture"))(Ur);p("vzmT");function Wr(e){let{icon:t,isRead:n}=e;const r=tr()(["notification-icon",t],{read:n});return ce().createElement("i",{className:r})}Wr.propTypes={icon:nt().string,isRead:nt().bool},Wr.defaultProps={icon:"bell",isRead:!1};const zr=qr((e=>{let{item:t}=e;return{isRead:t.isRead,icon:t.icon}}))(Wr),Gr="notifications";var Kr=p("/jHP"),Zr=p.n(Kr);const Qr=e=>!0===e?"":"=".concat(encodeURIComponent(e)),Xr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((t=>t+Qr(e[t]))).join("&")},Yr=/\(?([^(]?):(\w+)\)?/g,Jr="[pathfinder]:",$r="https://www.fiverr.com",eo="/",to="__dev__",no=(e,t)=>{const n=[Jr,e].join(" ");y.error(n),"function"==typeof t&&t(n)},ro=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{errorCallback:r,query:o,absolute:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"string"!=typeof e)return no("Route missing for ".concat(e),r),eo;if(0===e.indexOf(to))return no("Using dev only route. Make sure to replace it before going live."),eo;try{t=fiverrRoutes[e]}catch(e){return no("Missing global routes object",r),eo}if(!t)return no("Can't find the requested route (".concat(e,"). It may be misspelled or got removed"),r),eo;const s=[];return t=t.replace(Yr,((e,t,r)=>{if(n){const e=n[r];if(e)return"".concat(t).concat(e)}return"("!==e[0]&&s.push(r),""})),s.length?(no("Required params missing for ".concat(e," route: ").concat(s.join(", ")),r),eo):(o&&(t=[t,Xr(o)].join("?")),i?$r+t:t)};function oo(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function io(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){oo(i,r,o,s,a,"next",e)}function a(e){oo(i,r,o,s,a,"throw",e)}s(void 0)}))}}const so="notifications_drawer_package/src/api/toggleRead/index.js",ao="Failed toggling item state",co={markNotificationUnread:ro("mark_notifications_item_as_unread"),markNotificationRead:ro("mark_notifications_item_as_read"),markConversationUnread:ro("mark_as_unread_conversations"),markConversationRead:ro("mark_as_read_conversations")},lo=function(){var e=io((function*(e){try{return yield Zr()({url:co.markNotificationUnread,method:"POST",data:{id:e}})}catch(e){yn(e,{module:"notification_drawer",payload:{filename:so,url:co.markNotificationUnread,action:"markNotificationUnread",message:ao}})}}));return function(t){return e.apply(this,arguments)}}(),uo=function(){var e=io((function*(e){try{return yield Zr()({url:co.markNotificationRead,method:"POST",data:{id:e}})}catch(e){yn(e,{filename:so,url:co.markNotificationRead,action:"markNotificationRead",message:ao})}}));return function(t){return e.apply(this,arguments)}}(),po=function(){var e=io((function*(e){try{return yield Zr()({url:co.markConversationUnread,method:"POST",data:{id:e}})}catch(e){yn(e,{filename:so,url:co.markConversationUnread,action:"markConversationUnread",message:ao})}}));return function(t){return e.apply(this,arguments)}}(),fo=function(){var e=io((function*(e){try{return yield Zr()({url:co.markConversationRead,method:"POST",data:{id:e}})}catch(e){yn(e,{filename:so,url:co.markConversationRead,action:"markConversationRead",message:ao})}}));return function(t){return e.apply(this,arguments)}}(),mo=e=>e===Gr,go="ACTION_TYPE_MONITOR",ho=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:go,label:["NotificationsDrawer",e,...n].filter(Boolean).join(".")}},bo=(e,t)=>({source:e,item:hn(t),type:"ITEM_ADD"}),yo=e=>{let{source:t,id:n}=e;return e=>{(e=>{let{source:t,id:n}=e;(mo(t)?uo:fo)(n)})({source:t,id:n}),e(ho(t,"mark_item","read")),e({source:t,id:n,type:"ITEM_MARK_READ"})}},vo=e=>{let{source:t,id:n}=e;return e=>{(e=>{let{source:t,id:n}=e;(mo(t)?lo:po)(n)})({source:t,id:n}),e(ho(t,"mark_item","unread")),e({source:t,id:n,type:"ITEM_MARK_UNREAD"})}},wo="mobile",Oo=[wo,"tablet"],_o=F()().device.type,Eo=wo===_o,Co=Oo.includes(_o),To="ui-toggle-prevent-close",So={WILL_OPEN:"togglerWillOpen",DID_OPEN:"togglerDidOpen",WILL_CLOSE:"togglerWillClose",DID_CLOSE:"togglerDidClose"},jo="shouldPreventCloseAction";function xo(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Po(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){xo(i,r,o,s,a,"next",e)}function a(e){xo(i,r,o,s,a,"throw",e)}s(void 0)}))}}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Io=e=>"function"==typeof e,No=function(e){if(Io(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e(...n)}};class Ao extends ae.Component{constructor(e){var t;super(e),t=this,ko(this,"onBodyClick",(e=>{const{isOpen:t}=this.state,{target:n}=e;return t?Io(this.shouldPreventCloseAction)&&!0===this.shouldPreventCloseAction(e)||this.shouldPreventPropagationByClassName(n)||this.shouldPreventPropagationByElement(n)?null:void this.close(e):null})),ko(this,"notPropagatingElements",new Set),ko(this,"open",function(){var e=Po((function*(e){e&&e.persist&&e.persist();const n=No(t[So.WILL_OPEN],e);n instanceof Promise&&(yield n),t.setState({isOpen:!0},(()=>{t.bindClickListener(),No(t[So.DID_OPEN],e)}))}));return function(t){return e.apply(this,arguments)}}()),ko(this,"close",function(){var e=Po((function*(e){e&&e.persist&&e.persist();const n=No(t[So.WILL_CLOSE],e);n instanceof Promise&&(yield n),t.setState({isOpen:!1},(()=>{t.removeClickListener(),No(t[So.DID_CLOSE],e)}))}));return function(t){return e.apply(this,arguments)}}()),ko(this,"toggle",function(){var e=Po((function*(e){const{isOpen:n}=t.state,r=n?t.close:t.open;yield r(e)}));return function(t){return e.apply(this,arguments)}}()),ko(this,"bindClickListener",(()=>{const{bindBodyClickListener:e}=this.props;!1!==e&&document.body.addEventListener("click",this.onBodyClick)})),ko(this,"removeClickListener",(()=>document.body.removeEventListener("click",this.onBodyClick))),ko(this,"shouldPreventPropagationByClassName",(e=>!(!e||!e.classList)&&e.classList.contains(To))),ko(this,"shouldPreventPropagationByElement",(e=>{if(!e)return!1;if(!e.contains)return!1;if(!this.notPropagatingElements.size)return!1;if(this.notPropagatingElements.has(e))return!0;for(const t of this.notPropagatingElements)if(t.contains&&t.contains(e))return!0;return!1})),ko(this,"preventCloseAction",(e=>{if(e)return this.notPropagatingElements.has(e)?null:void this.notPropagatingElements.add(e)})),this.state={isOpen:e.defaultOpen||!1},[So.WILL_OPEN,So.DID_OPEN,So.WILL_CLOSE,So.DID_CLOSE,jo].forEach((t=>{Io(this[t])?this[t]=this[t].bind(this):Io(e[t])&&(this[t]=e[t].bind(this))}),this)}componentDidMount(){const{isOpen:e}=this.state;e&&this.bindClickListener()}componentWillUnmount(){this.removeClickListener()}render(){const{children:e}=this.props;if(!["undefined","function"].includes(typeof e))throw new TypeError("Toggler: `children` must be a function");const{close:t,open:n,toggle:r,preventCloseAction:o}=this,{isOpen:i}=this.state,s=this.toggleContent?this.toggleContent.bind(this):e;return s?s({isOpen:i,close:t,open:n,toggle:r,preventCloseAction:o}):null}}Ao.propTypes={children:tt.node,bindBodyClickListener:tt.bool,defaultOpen:tt.bool},Ao.defaultProps={defaultOpen:!1},Object.assign(Ao,{PREVENT_CLOSE_CLASS:To});const Lo=Ao,Do=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e;const o=Object.assign({},t,r?r.props:{},n);return ce().isValidElement(r)?ce().cloneElement(r,o):("function"==typeof e&&(r=e(o)),["undefined","boolean"].includes(typeof r)?null:r)},Ro="left",Mo="right",Fo="top",Bo="bottom",qo=(e,t)=>Object.keys(Uo).map((e=>"".concat(t,".").concat(e))).join(", "),Uo={LEFT:Ro,RIGHT:Mo,TOP:Fo,BOTTOM:Bo,LEFT_TOP:"left-top",LEFT_BOTTOM:"left-bottom",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Ho={[Ro]:Mo,[Mo]:Ro,[Fo]:Bo,[Bo]:Fo},Vo={CLICK:"click",HOVER:"hover"},Wo="Position passed is not a valid position. Valid positions include: ".concat(qo(0,"POSITIONS")),zo="Trigger passed is not a valid trigger. Valid triggers include: ".concat(qo(0,"TRIGGERS")),Go={attributes:["class"],childList:!0,subtree:!0,characterData:!0},Ko=e=>{let{position:t,boxDimensions:n,anchorDimensions:r}=e;const{innerWidth:o,innerHeight:i}=window;switch(t){case Uo.LEFT:return r.left-n.width<0;case Uo.RIGHT:return r.right+n.width>o;case Uo.TOP:return r.top-n.height<0;case Uo.BOTTOM:return r.bottom+n.height>i;default:return!1}};var Zo=p("/Evt"),Qo=p.n(Zo);function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(n),!0).forEach((function(t){Jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $o=e=>e?e.scrollHeight>e.clientHeight?e:$o(e.parentNode):null,ei=e=>{let{position:t,box:n,anchor:r,allowOverflow:o,fullWidth:i,boxFitContent:s,appendToBody:a}=e;if(!n||!r)return{};const c=r.getBoundingClientRect();let l;l=a?c:{top:r.offsetTop,bottom:r.offsetTop+c.height,left:r.offsetLeft,right:r.offsetLeft+c.width,width:c.width,height:c.height};const u=n.getBoundingClientRect(),{top:d,bottom:p,left:f,right:m,width:g,height:h}=l,{width:b,height:y}=u,v=d+h/2-y/2,w=f+g/2-b/2;let O,_,[C,T]=t.split("-");!o&&Ko({boxDimensions:u,anchorDimensions:c,position:C})&&(C=Ho[C]);const S=(e=>(0,E.camelCase)(["padding",(0,E.capitalize)(Ho[e])].join("")))(C),j=(e=>{let{position:t,anchorDimensions:n,boxDimensions:r}=e;switch(t){case Uo.LEFT:return n.left-r.width;case Uo.RIGHT:return n.left+n.width;case Uo.TOP:return n.top-r.height;case Uo.BOTTOM:return n.bottom}})({anchorDimensions:l,boxDimensions:u,position:C});switch(C){case Uo.LEFT:case Uo.RIGHT:_=v,O=j;break;case Uo.TOP:case Uo.BOTTOM:_=j,O=w}switch(T){case Uo.LEFT:O=f;break;case Uo.RIGHT:O=m-b;break;case Uo.TOP:_=d;break;case Uo.BOTTOM:_=p-y}i&&(O=8);const x="".concat(a?window.scrollX+O:O,"px"),P="".concat(a?window.scrollY+_:_,"px");return{style:Yo(Yo(Yo({},i&&{width:"".concat(window.innerWidth-16,"px")}),s&&{minWidth:"".concat(l.width,"px")}),{},{left:x,top:P,[S]:"".concat(8,"px")}),position:[C,T].filter(Boolean).join("-")}},ti=e=>{let{children:t,position:n,container:r,anchor:o,className:i,contentClassName:s,allowOverflow:a=!1,fullWidth:c=!1,boxFitContent:l=!0,isOpen:u=!1,style:d={},onMouseLeave:p=E.noop,onMouseEnter:f=E.noop,preventCloseAction:m=E.noop,appendToBody:g=!0,trigger:h=Vo.CLICK}=e;const[b,y]=(0,ae.useState)(null),[v,w]=(0,ae.useState)(n),O=tr()(Qo().box,{[Qo().boxHidden]:!u},i),_=tr()(Qo().content,s);if((0,ae.useEffect)((()=>{if(!b)return;const e=()=>{if(!u)return;const e=ei({position:n,anchor:o,box:b,allowOverflow:a,fullWidth:c,boxFitContent:l,appendToBody:g});w(e.position),Object.assign(b.style,e.style)},t=new MutationObserver(e);t.observe(b,Go),u&&e();const r=$o(o);return r&&r.addEventListener("scroll",e),window.addEventListener("resize",e),g&&h===Vo.HOVER&&window.addEventListener("scroll",e),()=>{t.disconnect(),r&&r.removeEventListener("scroll",e),window.removeEventListener("resize",e),g&&h===Vo.HOVER&&window.removeEventListener("scroll",e)}}),[b,o,n,a,c,u]),!Object.values(Uo).includes(n))throw new Error(Wo);return r&&t?(0,le.createPortal)(ce().createElement("aside",{className:O,"data-position":v,ref:e=>{m(e),y(e)},style:d,onMouseLeave:p,onMouseEnter:f},ce().createElement("div",{className:_},Do(t))),r):null};ti.propTypes={children:nt().node.isRequired,position:nt().oneOf(Object.values(Uo)).isRequired,container:nt().object,isOpen:nt().bool,style:nt().object,anchor:nt().object,className:nt().string,contentClassName:nt().string,allowOverflow:nt().bool,fullWidth:nt().bool,boxFitContent:nt().bool,preventCloseAction:nt().func,onMouseLeave:nt().func,onMouseEnter:nt().func,appendToBody:nt().bool,trigger:nt().oneOf(Object.values(Vo))};const ni=ti;var ri=p("/jFF"),oi=p.n(ri);const ii=["trigger","children"];function si(){return si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},si.apply(this,arguments)}function ai(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function ci(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){ai(i,r,o,s,a,"next",e)}function a(e){ai(i,r,o,s,a,"throw",e)}s(void 0)}))}}function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function di(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fi=e=>"function"==typeof e,mi=e=>{const t=Eo&&(e=>{const[t]=e.split("-");return[Uo.LEFT,Uo.RIGHT].includes(t)})(e);return t?Uo.TOP:e};class gi extends Lo{constructor(e){super(e),pi(this,"onClick",(e=>{this.openDelayTimeout||this.toggle(e)})),pi(this,"delayOpen",((e,t)=>new Promise((n=>{t.target?this.openDelayTimeout=setTimeout((()=>{n(),this.clearDelayOpen()}),e):n()})))),this.state=this.state||{},Object.assign(this.state,{container:null}),this.mouseLeaveTimeout=null,this.openDelayTimeout=null,this.cancelMouseLeave=this.cancelMouseLeave.bind(this),this.setContentRef=this.setContentRef.bind(this),this.getCustomStyles=this.getCustomStyles.bind(this)}componentWillUnmount(){const{container:e}=this.state,{appendToBody:t}=this.props;this.clearDelayOpen(),this.cancelMouseLeave(),e&&(t?document.body.removeChild(e):this.anchorElement.parentNode.removeChild(e))}get popoverProps(){const{open:e,close:t,toggle:n,preventCloseAction:r}=this,{isOpen:o}=this.state,i=this.props,{trigger:s,children:a}=i,c=di(i,ii);return Object.assign({open:e,close:t,toggle:n,preventCloseAction:r,isOpen:o},c)}get eventHandlers(){var e=this;const{trigger:t}=this.props,{isOpen:n}=this.state;switch(t){case Vo.CLICK:return{onClick:this.onClick};case Vo.HOVER:return{onMouseEnter:function(){e.cancelMouseLeave(),!n&&e.open(...arguments)},onMouseLeave:()=>{this.clearDelayOpen(),this.mouseLeaveTimeout=setTimeout(this.close,50)}};default:throw new Error(zo)}}get wrapperClasses(){const{trigger:e,className:t,openClassName:n,appendToBody:r}=this.props,{isOpen:o}=this.state;return tr()(oi().popover,{[oi().clickable]:e===Vo.CLICK},{[oi().inlineAppend]:!r},t,{[n]:n&&o})}get containerClasses(){const{containerClassName:e,className:t}=this.props;return tr()(e,t,oi().popoverContainer)}generateContainer(){if(this.state.container)return;const{appendToBody:e}=this.props,t=document.createElement("div");t.className=this.containerClasses,e?document.body.appendChild(t):this.anchorElement.parentNode.appendChild(t),this.setState({container:t})}cancelMouseLeave(){clearTimeout(this.mouseLeaveTimeout)}clearDelayOpen(){clearTimeout(this.openDelayTimeout),this.openDelayTimeout=null}getCustomStyles(){const{style:e,maxWidth:t}=this.props;return t?ui(ui({},e),{},{maxWidth:t}):e}setContentRef(e){const{isOpen:t}=this.state,{contentRef:n}=this.props;this.anchorElement=e,t&&this.generateContainer(),n(e)}togglerWillOpen(e){var t=this;return ci((function*(){const{willOpen:n,delay:r}=t.props;t.generateContainer(),r&&(yield t.delayOpen(r,e)),fi(n)&&(yield n(e))}))()}togglerDidOpen(e){const{onOpen:t}=this.props;fi(t)&&t(e)}togglerWillClose(e){var t=this;return ci((function*(){const{willClose:n}=t.props;fi(n)&&(yield n(e))}))()}togglerDidClose(e){const{onClose:t}=this.props;fi(t)&&t(e)}render(){const{eventHandlers:e}=this,{children:t,contentClassName:n,content:r,position:o,allowOverflow:i,fullWidth:s,boxFitContent:a,boxClassName:c,boxContentClassName:l,appendToBody:u,trigger:d}=this.props,{isOpen:p,container:f}=this.state,m=tr()(oi().content,n),g=mi(o);return ce().createElement("div",{className:this.wrapperClasses,ref:this.preventCloseAction},ce().createElement("span",si({className:m,ref:this.setContentRef},e),Do(t,this.popoverProps)),ce().createElement(ni,{isOpen:p,className:c,contentClassName:l,style:this.getCustomStyles(),container:f,anchor:this.anchorElement,position:g,allowOverflow:i,fullWidth:Eo&&s,boxFitContent:a,onMouseEnter:this.cancelMouseLeave,onMouseLeave:e.onMouseLeave,preventCloseAction:this.preventCloseAction,appendToBody:u,trigger:d},Do(r,this.popoverProps)))}}gi.propTypes={children:tt.node.isRequired,content:tt.node.isRequired,position:(0,tt.oneOf)(Object.values(Uo)),allowOverflow:tt.bool,trigger:(0,tt.oneOf)(Object.values(Vo)),contentRef:tt.func,className:tt.string,contentClassName:tt.string,openClassName:tt.string,containerClassName:tt.string,boxClassName:tt.string,boxContentClassName:tt.string,style:tt.object,fullWidth:tt.bool,boxFitContent:tt.bool,willOpen:tt.func,willClose:tt.func,delay:tt.number,onOpen:tt.func,onClose:tt.func,defaultOpen:tt.bool,appendToBody:tt.bool,maxWidth:(0,tt.oneOfType)([tt.number,tt.string])},gi.defaultProps={position:Uo.TOP,allowOverflow:!1,fullWidth:!1,boxFitContent:!0,trigger:Vo.CLICK,style:{},contentRef:E.noop,delay:0,defaultOpen:!1,appendToBody:!0},Object.assign(gi,{POSITIONS:Uo,TRIGGERS:Vo});const hi=gi;var bi=p("rXjO"),yi=p.n(bi);const vi=["className","boxClassName","boxContentClassName","content","delay"];function wi(){return wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wi.apply(this,arguments)}function Oi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const{POSITIONS:_i,TRIGGERS:Ei}=hi,Ci=e=>{let{className:t,boxClassName:n,boxContentClassName:r,content:o,delay:i}=e,s=Oi(e,vi);const a="number"==typeof i?i:i?1e3:0,c=tr()(yi().tooltip,t),l=tr()(yi().box,n),u=tr()(yi().boxContent,r),d=Co?Ei.CLICK:Ei.HOVER;return ce().createElement(hi,wi({className:c,key:i.toString(),delay:a,content:o,fullWidth:Eo,boxFitContent:!1,trigger:d,position:_i.TOP,boxClassName:l,boxContentClassName:u},s))};Ci.propTypes={delay:(0,tt.oneOfType)([tt.number,tt.bool])},Ci.defaultProps={delay:0};const Ti=hi.propTypes,{delay:Si}=Ti,ji=Oi(Ti,["delay"]);Object.assign(Ci.propTypes,ji),Object.assign(Ci,{POSITIONS:_i});const xi=Ci;p("3SKs");function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ii(e){let{isRead:t,toggleRead:n,i18n:r}=e;const o=tr()("toggle-read",{read:t}),i=r.t("realtime_notifications.notifications_drawer.mark_".concat(t?"unread":"read"));return ce().createElement(xi,{content:i,position:xi.POSITIONS.LEFT,containerClassName:"toggle-read-tooltip-container"},ce().createElement("button",{className:o,onClick:e=>{e.preventDefault(),e.stopPropagation(),n()}}))}Ii.propTypes={isRead:nt().bool,toggleRead:nt().func,i18n:nt().shape({t:nt().func})};const Ni=(0,Pn.compose)($n,qr((e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))))(Ii),Ai=e=>{let{condition:t,children:n}=e;return t?n:null};Ai.propTypes={condition:nt().bool.isRequired,children:nt().node.isRequired};const Li=Ai,Di=e=>e&&Number.isInteger(e)?e>99?"99+":"".concat(e):null,Ri=e=>e.type===Gr?Gr:"conversations";p("8jpx");function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){Bi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qi(e){let{id:t,subType:n,layoutSource:r,isRead:o=!1,unreadCount:i=null,toggleRead:s}=e;const a=tr()("unread-container",{read:o}),c=()=>{const e=o?rr.notification.markedAsUnread:rr.notification.markedAsRead,i={id:t,subType:n};wr.report(e,{item:i,layoutSource:r})};return ce().createElement("span",{className:a},ce().createElement(Li,{condition:i>1},ce().createElement("span",{className:"unread-count"},i)),ce().createElement(Ni,{isRead:o,toggleRead:()=>{c(),s()}}))}qi.propTypes={id:nt().string,subType:nt().string,layoutSource:nt().oneOf(Object.values(Or)),unreadCount:nt().string,toggleRead:nt().func,isRead:nt().bool};const Ui=(0,Pn.compose)((0,rt.connect)(((e,t)=>{let{item:n}=t;return{source:Ri(n),id:n.id}}),t,((e,t,n)=>{let{itemMarkRead:r,itemMarkUnread:o}=t,{item:i,layoutSource:s}=n;return Fi(Fi(Fi({},e),i),{},{layoutSource:s,toggleRead:()=>i.isRead?o(e):r(e)})})),qr((e=>{let{id:t,subType:n,layoutSource:r,unreadCount:o,toggleRead:i,isRead:s}=e;return{id:t,subType:n,layoutSource:r,toggleRead:i,isRead:s,unreadCount:Di(o)}})))(qi);var Hi=p("tTwn"),Vi=p.n(Hi);const Wi="BASE_SANITIZATION_GROUP",zi="HTML_SANITIZATION_GROUP",Gi=["a","b","i","u","em","br","span","small","strong"],Ki=[...Gi,"div","p","ol","ul","li"],Zi={[Wi]:Gi,[zi]:Ki},Qi=new Set;function Xi(e,t,n){if(!Qi.has(t))return"".concat(t,'="').concat(n,'"')}["onclick","onload","onblur","onfocus","onerror","onkeydown","onkeypress","onkeyup","onkeyup","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup"].forEach((e=>Qi.add(e)));const Yi=e=>{const t=Zi[e];if(!t)throw new Error("The sanitization group does not match one of the accept groups: ".concat(Object.keys(Zi).join(",")));return t.reduce(((e,t)=>Object.assign(e,{[t]:[]})),{})},Ji=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zi;return Vi()(e,{whiteList:Yi(t),onIgnoreTagAttr:Xi})},$i="_",es=new RegExp("\\".concat($i,"([^").concat($i).concat($i,"]+)").concat($i),"g"),ts="Templates must be functions, instead got:",ns=e=>{y.error([ts,typeof e,"(".concat(JSON.stringify(e),")")].join(" "))},rs=e=>"function"==typeof e,os=(e,t)=>{const n=e.split(es);((e,t)=>{const n=t.length,r=(e.length-1)/2;r!==n&&y.error("The number of template declarations does not match the number of templates provided.",{numberOfTemplates:n,numberOfTemplateDeclarations:r}),t.filter((e=>!rs(e))).forEach(ns)})(n,t);const r=n.map(((e,n)=>{const r=t[(n-1)/2];return n%2==1&&r&&rs(r)?((e,t)=>()=>ce().createElement(ce().Fragment,null,t(e)))(e,r):(o=e,()=>ce().createElement(ce().Fragment,null,o));var o}));return ce().createElement(ce().Fragment,null,r.map(((e,t)=>ce().createElement(e,{key:t}))))},is={k:(0,tt.oneOfType)([tt.string,(0,tt.arrayOf)(tt.string)]).isRequired,locale:tt.string,templates:(0,tt.arrayOf)(tt.func),params:tt.object,parseMarkup:tt.bool};function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){cs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ls=e=>{let t,{k:n,templates:r,parseMarkup:o=!1,params:i={},locale:s=zn.DEFAULT_LOCALE}=e;if(!n)return null;try{t=i18n.t(n,as(as({},i),{},{$scope:s}))}catch(e){t=n}return r?os(t,r):o?ce().createElement("span",{dangerouslySetInnerHTML:(a=t,c=Wi,{__html:Ji(a,c)})}):t;var a,c};ls.propTypes=as({},is);const us=Wn(ls),ds=6e4,ps=36e5,fs=864e5,ms=6048e5,gs=2592e6,hs=31536e6,bs="general.how_long_ago.",ys=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o={count:Math.floor(r)};return t&&(o.$scope=t),be().t("".concat(e).concat(n),o)};function vs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,{prefix:t=bs,locale:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Date.now(),o=r-e;return Number.isNaN(o)?"":o<ds&&ys(t,n,"just_now")||o<ps&&ys(t,n,"minutes_ago",o/ds)||o<fs&&ys(t,n,"hours_ago",o/ps)||o<ms&&ys(t,n,"days_ago",o/fs)||o<gs&&ys(t,n,"weeks_ago",o/ms)||o<hs&&ys(t,n,"months_ago",o/gs)||ys(t,n,"years_ago",o/hs)}Object.assign(vs,{MINUTE_IN_MS:ds,HOUR_IN_MS:ps,DAY_IN_MS:fs,WEEK_IN_MS:ms,MONTH_IN_MS:gs,YEAR_IN_MS:hs});var ws=p("3wFc"),Os=p.n(ws);const _s=e=>{let{onClick:t,className:n,color:r,children:o,size:i,ariaLabel:s}=e;const a="function"==typeof t,c=tr()(Os().fitIcon,{[Os().fitIconClickable]:a},n),l=(e=>{let{size:t,color:n}=e;return{width:"".concat(t,"px"),height:"".concat(t,"px"),fill:n}})({size:i,color:r}),u=a?"button":"span",d={className:c,style:l,"aria-label":s};return a?Object.assign(d,{onClick:t}):s?Object.assign(d,{role:"img"}):Object.assign(d,{"aria-hidden":!0}),ce().createElement(u,d,Do(o))};_s.propTypes={children:(0,tt.oneOfType)([tt.node,tt.func]).isRequired,onClick:tt.func,color:tt.string,size:tt.number,className:tt.string,ariaLabel:tt.string},_s.defaultProps={size:16};const Es=_s,Cs=()=>ce().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},ce().createElement("path",{d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"})),Ts=()=>ce().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},ce().createElement("path",{d:"M8 0.25C3.71875 0.25 0.25 3.71875 0.25 8C0.25 12.2812 3.71875 15.75 8 15.75C12.2812 15.75 15.75 12.2812 15.75 8C15.75 3.71875 12.2812 0.25 8 0.25ZM11.8 10.0344C11.9469 10.1813 11.9469 10.4187 11.8 10.5656L10.5625 11.8C10.4156 11.9469 10.1781 11.9469 10.0312 11.8L8 9.75L5.96562 11.8C5.81875 11.9469 5.58125 11.9469 5.43437 11.8L4.2 10.5625C4.05312 10.4156 4.05312 10.1781 4.2 10.0312L6.25 8L4.2 5.96562C4.05312 5.81875 4.05312 5.58125 4.2 5.43437L5.4375 4.19688C5.58437 4.05 5.82188 4.05 5.96875 4.19688L8 6.25L10.0344 4.2C10.1813 4.05312 10.4187 4.05312 10.5656 4.2L11.8031 5.4375C11.95 5.58437 11.95 5.82188 11.8031 5.96875L9.75 8L11.8 10.0344Z"})),Ss=()=>ce().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},ce().createElement("path",{d:"M8 0C3.6 0 0 3.6 0 8C0 12.4 3.6 16 8 16C12.4 16 16 12.4 16 8C16 3.6 12.4 0 8 0ZM8 12V9H4V7H8V4L12 8L8 12Z"})),js=()=>ce().createElement("svg",{width:"14",height:"12",viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg"},ce().createElement("g",{clipPath:"url(#clip0)"},ce().createElement("path",{d:"M13.3478 10.3128C13.7804 11.0627 13.2373 12 12.3733 12H1.12597C0.260256 12 -0.280259 11.0612 0.151506 10.3128L5.77524 0.562141C6.20806 -0.18807 7.29212 -0.186711 7.72416 0.562141L13.3478 10.3128V10.3128ZM6.7497 8.29687C6.15427 8.29687 5.67158 8.77956 5.67158 9.37499C5.67158 9.97042 6.15427 10.4531 6.7497 10.4531C7.34513 10.4531 7.82783 9.97042 7.82783 9.37499C7.82783 8.77956 7.34513 8.29687 6.7497 8.29687ZM5.72612 4.42157L5.89997 7.60907C5.90811 7.75822 6.03144 7.87499 6.1808 7.87499H7.3186C7.46797 7.87499 7.5913 7.75822 7.59943 7.60907L7.77329 4.42157C7.78208 4.26046 7.6538 4.12499 7.49246 4.12499H6.00692C5.84558 4.12499 5.71733 4.26046 5.72612 4.42157V4.42157Z"})),ce().createElement("defs",null,ce().createElement("clipPath",{id:"clip0"},ce().createElement("rect",{width:"13.5",height:"12"})))),xs=()=>ce().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},ce().createElement("g",null,ce().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.54839C4.43687 1.54839 1.54839 4.43687 1.54839 8C1.54839 11.5631 4.43687 14.4516 8 14.4516C11.5631 14.4516 14.4516 11.5631 14.4516 8C14.4516 4.43687 11.5631 1.54839 8 1.54839ZM0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z"}),ce().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 11C9.65685 11 11 9.65685 11 8C11 6.34315 9.65685 5 8 5C6.34315 5 5 6.34315 5 8C5 9.65685 6.34315 11 8 11Z"}))),Ps=()=>ce().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},ce().createElement("path",{d:"M15.75 8C15.75 12.2802 12.2802 15.75 8 15.75C3.71978 15.75 0.25 12.2802 0.25 8C0.25 3.71978 3.71978 0.25 8 0.25C12.2802 0.25 15.75 3.71978 15.75 8ZM7.10356 12.1036L12.8536 6.35356C13.0488 6.15831 13.0488 5.84172 12.8536 5.64647L12.1465 4.93937C11.9512 4.74409 11.6346 4.74409 11.4393 4.93937L6.75 9.62869L4.56066 7.43934C4.36541 7.24409 4.04881 7.24409 3.85353 7.43934L3.14644 8.14644C2.95119 8.34169 2.95119 8.65828 3.14644 8.85353L6.39644 12.1035C6.59172 12.2988 6.90828 12.2988 7.10356 12.1036Z"})),ks=()=>ce().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},ce().createElement("path",{d:"M8 0C6.41775 0 4.87103 0.469192 3.55544 1.34824C2.23985 2.22729 1.21447 3.47672 0.608967 4.93853C0.00346631 6.40034 -0.15496 8.00887 0.153721 9.56072C0.462403 11.1126 1.22433 12.538 2.34315 13.6569C3.46197 14.7757 4.88743 15.5376 6.43928 15.8463C7.99113 16.155 9.59966 15.9965 11.0615 15.391C12.5233 14.7855 13.7727 13.7602 14.6518 12.4446C15.5308 11.129 16 9.58225 16 8C15.9977 5.87897 15.1541 3.84547 13.6543 2.34568C12.1545 0.845885 10.121 0.00229405 8 0ZM8 2C9.2449 2.00005 10.4585 2.38984 11.4707 3.11467L3.11467 11.4707C2.47494 10.5743 2.09468 9.51886 2.01567 8.42043C1.93667 7.32199 2.16198 6.22303 2.66684 5.2443C3.17171 4.26558 3.93659 3.44495 4.87745 2.8726C5.81831 2.30025 6.89873 1.99833 8 2ZM8 14C6.75511 13.9999 5.54146 13.6102 4.52934 12.8853L12.8853 4.52933C13.5251 5.42574 13.9053 6.48114 13.9843 7.57957C14.0633 8.67801 13.838 9.77697 13.3332 10.7557C12.8283 11.7344 12.0634 12.555 11.1226 13.1274C10.1817 13.6997 9.10127 14.0017 8 14Z"})),Is=()=>ce().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},ce().createElement("g",null,ce().createElement("path",{d:"M13.152 1.5h.12a.37.37 0 0 0 .364-.375v-.75A.37.37 0 0 0 13.273 0H2.363A.37.37 0 0 0 2 .375v.75a.37.37 0 0 0 .364.375h.12c0 2.518.976 5.181 2.946 6.5-1.979 1.324-2.945 3.997-2.945 6.5h-.121a.37.37 0 0 0-.364.375v.75a.37.37 0 0 0 .364.375h10.909a.37.37 0 0 0 .363-.375v-.75a.37.37 0 0 0-.363-.375h-.121c0-2.518-.976-5.181-2.945-6.5 1.978-1.324 2.944-3.997 2.944-6.5zm-1.455 0a8.09 8.09 0 0 1-.385 2.5H4.324a8.09 8.09 0 0 1-.385-2.5h7.758zM11.312 12H4.324c.628-1.923 1.956-3.25 3.494-3.25 1.538 0 2.867 1.327 3.494 3.25z"})));var Ns=p("Gf4R"),As=p.n(Ns);function Ls(e,t){let{dateTime:n,subCategory:r,status:o}=e,{locale:i}=t;const s=vs(n,{prefix:"realtime_notifications.notifications_drawer.long_ago.",locale:i});return ce().createElement("footer",{className:As().itemMeta},n&&ce().createElement(ce().Fragment,null,ce().createElement("time",{dateTime:n},s),ce().createElement(Ds,null)),r&&ce().createElement(ce().Fragment,null,ce().createElement("span",{className:As().subCategory},r),ce().createElement(Ds,null)),o&&ce().createElement(xi,{content:ce().createElement(us,{k:"realtime_notifications.notifications_drawer.status.".concat(Rs(o))}),containerClassName:As().tooltip,boxContentClassName:As().status,position:xi.POSITIONS.LEFT},ce().createElement(Es,{size:10,className:As().icnStatus},function(e){switch(e){case"rejected":return Ts;case"delivered":return Ss;case"late":return js;case"new":return xs;case"completed":return Ps;case"cancelled":return ks;case"in-progress":return Is;default:return null}}(o))))}function Ds(){return ce().createElement(Es,{size:2,className:As().spacer},Cs)}function Rs(e){return(0,E.isNil)(e)?e:e.split("-").join("_")}const Ms=e=>(0,E.result)(e,"msg_params.sub_category"),Fs=e=>(0,E.result)(e,"msg_params.order_status");Ls.propTypes={dateTime:nt().number,subCategory:nt().string,status:nt().string},Ls.contextTypes={locale:nt().string};const Bs=qr((e=>{let{item:t}=e;return{dateTime:1e3*(t.updated_at||0),subCategory:Ms(t),status:Fs(t)}}))(Ls),qs={browserLanguage:"",countryCode:"",currency:"",experienceLocale:"en-US",formattingLocale:"en-GB",shouldFormat:!0},Us=Symbol(),Hs=()=>{const{computedLocale:e}=W();let t;return t=e?{formattingLocale:e}:C().get(window,"initialData.LocalizationContext"),t||(window&&!window[Us]&&(window[Us]=!0,y.error({message:"Browser localization context does not exist, please ensure the run time owner sets one on the window scope before using this API"})),qs)},Vs=e=>function(){const t=Hs();for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e(t,...r)},Ws={CODE:"code",SYMBOL:"symbol"},zs={style:{mapTo:"currencyDisplay",validator:e=>Object.values(Ws).includes(e),validatorFallbackValue:Ws.SYMBOL,defaultValue:Ws.SYMBOL},minimumFractionDigits:{},maximumFractionDigits:{}},Gs="symbol",Ks={MXN:"MX",AUD:"A",CAD:"CA"},Zs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=1,o=n||e.formattingLocale,i=r.toLocaleString(o,{style:"currency",currency:t}),s={currencyDisplay:Gs},a=Qs({formattedString:i,currencyCode:t,parsedOptions:s});return a.replace(/[0-9]|\.|,/g,"").trim()},Qs=e=>{let{formattedString:t,currencyCode:n,parsedOptions:r}=e;return Ks[n]&&r.currencyDisplay===Gs&&-1===t.indexOf(Ks[n])?t.replace("$","".concat(Ks[n]).concat("$")):t},Xs={INTEGER:"integer",DECIMAL:"decimal",FRACTION:"fraction",MINUS_SIGN:"minusSign",LITERAL:"literal",PERCENTAGE:"percentage",CURRENCY:"currency"},Ys=e=>/\d/.test(e),Js=e=>/\s/.test(e),$s=e=>"%"===e,ea=e=>/—|−|-|–|\(|\)/.test(e),ta=e=>({type:Xs.LITERAL,value:e}),na=e=>({type:Xs.PERCENTAGE,value:e}),ra=e=>({type:Xs.MINUS_SIGN,value:e}),oa=e=>({type:Xs.DECIMAL,value:e}),ia=e=>({type:Xs.CURRENCY,value:e}),sa=e=>({type:Xs.FRACTION,value:e}),aa=e=>[...ca(e),...la(e)],ca=e=>{const{localizationContext:t,parsedOptions:n,formattingLocale:r,currencyCode:o,formattedString:i,formattedNumber:s}=e,a=[];let c=0;for(;c<i.length;){const e=i.charAt(c);if(Ys(e)){const e=Math.abs(parseInt(s,10)),t={minimumFractionDigits:0,maximumFractionDigits:0};a.push((l=new Intl.NumberFormat(r,t).format(e),{type:Xs.INTEGER,value:l}));break}if(Js(e))a.push(ta(e));else if($s(e))a.push(na(e));else{if(!ea(e)){const e=n.currencyDisplay===Ws.CODE?o:Zs(t,o,r);a.push(ia(e)),c+=e.length;continue}a.push(ra(e))}c++}var l;return a},la=e=>{const{localizationContext:t,formattingLocale:n,currencyCode:r,formattedString:o,parsedOptions:i}=e,s=[],a=1.1.toLocaleString(n).substring(1,2),c=-1!==o.indexOf(a);let l=o.length-1;for(;l>=0;){const e=o.charAt(l);if(Ys(e)){if(c){let t=e,n=l-1,r=o.charAt(n);for(;Ys(r);)t="".concat(r).concat(t),n--,r=o.charAt(n);s.unshift(sa(t)),s.unshift(oa(a))}break}if(Js(e))s.unshift(ta(e));else if($s(e))s.unshift(na(e));else{if(!ea(e)){const e=i.currencyDisplay===Ws.CODE?r:Zs(t,r,n);s.unshift(ia(e)),l-=e.length;continue}s.unshift(ra(e))}l--}return s},ua=(e,t)=>{const n={};for(const[t,r]of Object.entries(e))r.defaultValue&&(n[r.mapTo||t]=r.defaultValue);for(const[r,o]of Object.entries(t))if(e[r]){const t=e[r].mapTo||r;n[t]=o;const i=e[r].validator;i&&!i(o)&&(n[t]=e[r].validatorFallbackValue)}return n};function da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fa=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?da(Object(n),!0).forEach((function(t){pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Xs);delete fa.PERCENTAGE;const ma=(e,t,n,r)=>{const o=ua(zs,r);return e%1!=0||o.hasOwnProperty("maximumFractionDigits")||o.hasOwnProperty("minimumFractionDigits")||(o.maximumFractionDigits=0,o.minimumFractionDigits=0),r.noFractionDigits&&(o.minimumFractionDigits=0,o.maximumFractionDigits=0),o.style="currency",o.currency=t,(r.asNumber||r.asParts)&&(o.useGrouping=!1),o},ga=Vs((function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=r.fallbackValue||"".concat(t," ").concat(n);try{if(!e||0===Object.keys(e).length)return o;const{asNumber:i,asParts:s}=r,a=r.formattingLocale||e.formattingLocale,c=ma(t,n,a,r),l=new Intl.NumberFormat(a,c).format(t),u=Qs({formattedString:l,parsedOptions:c,currencyCode:n});if(i||s){const t=parseFloat(u.replace(/[^0-9,.-]/gi,"").replace(/,/g,"."));return i?t:aa({localizationContext:e,parsedOptions:c,formattingLocale:a,currencyCode:n,formattedString:u,formattedNumber:t})}return u}catch(e){return y.error(e,{value:t,options:r,formatter:"currencyFormat"}),o}})),ha="numeric",ba="2-digit",ya="short",va={year:{},month:{},day:{},hour:{},minute:{},second:{},hour12:{}},wa=e=>ua(va,e),Oa=Vs((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.formattingLocale||qs.formattingLocale,o=n.fallbackValue||new Intl.DateTimeFormat(r,{year:ha,month:ya,day:ba,hour:ba,minute:ba}).format(t);try{if(!e||0===Object.keys(e).length)return o;const r=n.formattingLocale||e.formattingLocale,i=wa(n);return new Intl.DateTimeFormat(r,i).format(t)}catch(e){return y.error(e,{value:t,options:n,formatter:"dateTimeFormat"}),o}})),_a=e=>{let{amount:t,currency:n}=e;const r="$".concat(t);return(0,E.isNil)(t)||(0,E.isNil)(n)?r:ga(parseFloat(t),n,{fallbackValue:r})};function Ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach((function(t){Ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Sa={localized_fiverr_credits_removed:ja,localized_fiverr_credits_removed_no_date:ja,business_spending_limit_set:function(e,t){const{spending_limit:n,currency:r}=e.msgParams,o=_a({amount:n,currency:r}),i=Ca(Ca({},e.msgParams),{},{amount:o});return t.t("realtime_notifications.types.".concat(e.subType),i)},business_deposit_made:function(e,t){const{deposit_amount:n,currency:r}=e.msgParams,o=_a({amount:n,currency:r}),i=Ca(Ca({},e.msgParams),{},{amount:o});return t.t("realtime_notifications.types.".concat(e.subType),i)}};function ja(e,t){const{amount:n,currency:r,date:o}=e.msgParams,i=_a({amount:n,currency:r}),s=(e=>(0,E.isNil)(e)?e:Oa(new Date(e),{year:ha,month:ha,day:ha,fallbackValue:e}))(o),a=Ca(Ca({},e.msgParams),{},{amount:i,date:s});return t.t("realtime_notifications.types.".concat(e.subType),a)}p("/MH/");function xa(e){let{unsafeString:t,content:n,username:r,subType:o,msgParams:i,i18n:s}=e;if(t)return ce().createElement("p",{className:"content"},ce().createElement("strong",{className:"username"},r),t);if(n){if(n===Gt){const e=function(e,t){if(Sa[e.subType])return(0,Sa[e.subType])(e,t);return t.t("realtime_notifications.types.".concat(e.subType),e.msgParams)}({subType:o,msgParams:i},s);return ce().createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:e}})}return ce().createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:n}})}return null}xa.propTypes={content:nt().string,unsafeString:nt().string,username:nt().string,subType:nt().string,msgParams:nt().object,i18n:nt().shape({t:nt().func})};const Pa=(0,Pn.compose)($n,qr((e=>{let{item:t,i18n:n}=e;return{unsafeString:t.userMessage,content:t.content,username:t.username,subType:t.subType,msgParams:t.msg_params,i18n:n}})))(xa);p("gDIq");function ka(){let{item:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e||!e.previewImage)return null;const{previewImage:t}=e;return ce().createElement("div",{className:"preview-image",style:{backgroundImage:"url(".concat(t,")")}})}ka.propTypes={item:nt().object};const Ia=ka;function Na(){return ce().createElement("svg",{width:"8",height:"8",viewBox:"0 0 11 10",xmlns:"http://www.w3.org/2000/svg"},ce().createElement("path",{d:"M7.21548 5L10.5817 1.63375C10.7764 1.43906 10.7764 1.12313 10.5817 0.928127L9.79954 0.145939C9.60485 -0.0487482 9.28891 -0.0487482 9.09391 0.145939L5.72798 3.5125L2.36173 0.146252C2.16704 -0.0484356 1.8511 -0.0484356 1.6561 0.146252L0.874226 0.928127C0.679539 1.12281 0.679539 1.43875 0.874226 1.63375L4.24048 5L0.874226 8.36625C0.679539 8.56094 0.679539 8.87687 0.874226 9.07187L1.65641 9.85406C1.8511 10.0487 2.16704 10.0487 2.36204 9.85406L5.72798 6.4875L9.09423 9.85375C9.28891 10.0484 9.60485 10.0484 9.79985 9.85375L10.582 9.07156C10.7767 8.87688 10.7767 8.56094 10.582 8.36594L7.21548 5Z"}))}p("dovV");function Aa(e){let{item:t,className:n,dismissable:r=!1,layoutSource:o,onDismiss:i=E.noop,onClick:s=E.noop}=e;const a=(0,ae.useCallback)((()=>({item:t,layoutSource:o})),[t,o]),{containerRef:c}=Br({buildImpressionData:a,eventKey:rr.notification.shown}),l=o===Or.TOAST,u=tr()("drawer-item",n,{toast:l,read:!l&&t.isRead}),d=()=>{wr.report(rr.notification.clicked,{item:t,layoutSource:o})};return ce().createElement("li",{"data-testid":t.id,className:u,onClick:e=>{d(),s(e,t)},ref:c},ce().createElement("a",{href:t.url,className:"main-action",id:t.id},ce().createElement("div",{className:"image-wrapper"},t.profilePicture&&ce().createElement(Vr,{item:t}),!t.profilePicture&&ce().createElement(zr,{item:t})),ce().createElement("div",{className:"item-content-wrapper"},ce().createElement(Pa,{item:t}),!l&&ce().createElement(Bs,{item:t})),ce().createElement("div",{className:"item-gutter"},!l&&ce().createElement("div",{className:"controls"},ce().createElement(Ui,{item:t,layoutSource:o})),ce().createElement("div",{className:"preview-image-wrapper"},ce().createElement(Ia,{item:t})))),r&&ce().createElement(La,{onClick:i}))}function La(e){let{onClick:t}=e;return ce().createElement("button",{"data-testid":"dismiss",className:"dismiss",onClick:t},ce().createElement(Na,null))}Aa.propTypes={className:nt().string,item:nt().object,dismissable:nt().bool,layoutSource:nt().oneOf(Object.values(Or)),onDismiss:nt().func,onClick:nt().func},La.propTypes={onClick:nt().func.isRequired};const Da=vn(ct,"ListItem")(Aa);var Ra=p("+qQp"),Ma=p.n(Ra);function Fa(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Ba(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Fa(i,r,o,s,a,"next",e)}function a(e){Fa(i,r,o,s,a,"throw",e)}s(void 0)}))}}const qa="INITIAL",Ua="STARTED",Ha="COMPLETED";function Va(e){const{notification:t,onExpiration:n,duration:r}=e,{animationState:o,startAnimating:i}=function(e){let{startAfter:t}=e;const[n,r]=(0,ae.useState)(qa),o=(0,ae.useRef)(),i=(0,ae.useRef)(),s=(0,ae.useCallback)((()=>{r(Ua),i.current=setTimeout(Ba((function*(){r(Ha)})),1e3)}),[]),a=(0,ae.useCallback)((()=>{o.current=setTimeout(Ba((function*(){s()})),t)}),[]),c=(0,ae.useCallback)((()=>{o.current&&clearTimeout(o.current),i.current&&clearTimeout(i.current)}),[]),l=(0,ae.useCallback)((()=>{c(),s()}),[c,s]);return(0,ae.useEffect)((()=>(a(),c)),[a,c]),{animationState:n,startAnimating:l}}({startAfter:r-1e3}),s=o===Ua||o===Ha,a=tr()(Ma().card,{[Ma().expired]:s});return(0,ae.useEffect)((()=>{o===Ha&&n()}),[o,n]),ce().createElement(Da,{item:t,className:a,onClick:Wa,dismissable:!0,layoutSource:Or.TOAST,onDismiss:e=>{e.stopPropagation(),i(),Tt.count(jt.NOTIFICATION_TOAST_DISMISSED)}})}function Wa(){Tt.count(jt.NOTIFICATION_TOAST_CLICKED)}Va.propTypes={notification:qt.isRequired,onExpiration:nt().func.isRequired,duration:nt().number.isRequired};vn(at,"NotificationToast")(Va);var za=p("33yw"),Ga=p.n(za);function Ka(e){let{notifications:t,onToastExpiration:n}=e;const r=tr()("realtime-notifications",Ga().container);return t.length?ce().createElement("ul",{className:r},t.map((e=>ce().createElement(Va,{key:e.id,notification:e,duration:1e4,onExpiration:()=>n(e)})))):null}Ka.propTypes={notifications:nt().arrayOf(qt),onToastExpiration:nt().func.isRequired};const Za=(0,E.flow)((0,rt.connect)((e=>({notifications:pt(e)})),(e=>({onToastExpiration:t=>e(kt(t))}))),vn(at,"Toaster"))(Ka);class Qa extends ce().Component{constructor(e){super(e);const t={tabManager:e.tabManager};this.store=function(e,t){return(0,Pn.createStore)(Bn,(e=>{const{realtimeEnabled:t,soundEnabled:n,username:r}=e;return{settings:{realtimeEnabled:t,soundEnabled:n},username:r}})(e),qn((0,Pn.applyMiddleware)(Nn.withExtraArgument(t))))}(e,t)}render(){const{socket:e,tabManager:t}=this.props,{locale:n}=W();return ce().createElement(rt.Provider,{store:this.store},ce().createElement(Jn,{locale:n},ce().createElement(ce().Fragment,null,ce().createElement(_n,{socket:e,tabManager:t}),ce().createElement(Za,null),ce().createElement(xn,null))))}}Qa.propTypes={socket:Bt,tabManager:nt().object};const Xa=vn(at,"Entry")(Qa);p("WzVn");function Ya(){return Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ya.apply(this,arguments)}const Ja=t=>ce().createElement(Xa,Ya({},t,{socket:e,tabManager:Ue})),$a="undefined"!=typeof document&&document.querySelector("#RealtimeMessages");if($a){((e,t,n,r,o)=>{try{const i="layout.CSR.".concat(r,".").concat(o);oe(i),ue().hydrate(ce().createElement(me,{componentName:r,entryName:o},ce().createElement(e,t)),n,(()=>{ie(i)}))}catch(e){fe(e,r,o)}})(Ja,window.initialData.RealtimeMessages,$a,"RealtimeMessages","RealtimeMessages")}const ec=Ja})(),f})()}));
//# sourceMappingURL=RealtimeMessages.4d02c73bae5162c5bcb5.js.map